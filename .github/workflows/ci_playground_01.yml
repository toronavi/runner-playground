name: CI Playground 1
run-name: Playground actions 1

on:
  workflow_dispatch:
    inputs:
      test:
        required: true
        type: choice
        options:
          - "test1"
          - "test2"

jobs:
  parse_env_json:
    runs-on: ubuntu-latest
    steps:
      - name: Set json content to context
        id: set_json_content
        run: |
          content=`cat ./env.json`
          //複数行の場合は特殊文字をパース可能な文字に置き換える
          content="${content//'%'/'%25'}"
          content="${content//$'\n'/'%0A'}"
          content="${content//$'\r'/'%0D'}"
          echo "::set-output name=envJson::$content"
  test:
    runs-on: ubuntu-latest
    steps: |
      - run: echo Hello world!
